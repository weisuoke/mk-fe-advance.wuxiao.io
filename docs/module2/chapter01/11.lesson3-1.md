---
nav:
  title: 阶段二
  order: 20
group:
  title: 总览
  order: 10
title: 组件库难点解决方案
order: 11
---

# 组件库难点解决方案

## 两个组件怎样重用

单独的代码库

在不同的项目中重用这些组件，所以把这些组件自然而然的抽成一个代码库。降低和任何一个项目的耦合性，单独代码库让业务组件有独立的标准开发流程

- 编码
- 测试
- 打包生成通用 JS 模块
- 发布至 NPM
- CI/CD - 自动发布

### 原则

业务组件库大多数都是展示型组件，其实就是把对应的template加上属性（大部分是css属性）展示出来，会有少量行为，比如点击跳转等，而且这些组件会在多个不同的端进行展示，所以业务组件库是从简原则，必须避免和编辑器编辑流程的耦合

## 组件的属性应该怎样设计

### 方案一

把 css 作为统一的对象传入

```js
<LText 
	css={{ color: '#fff' }}
  text="nihao"
/>

// LText 中有一个p标签，接收css属性
<p style={props.css}></p>
```

### 方案二

将所有属性全部平铺传入

```js
<LText 
  text="nihao"
  color="#fff"
  ...
/>

// LText 内部实现
const styles = stylePick(props);
<p style={styles}></p>
```

方案一要多保存一层结构，后端可能也要多保存一层结构。

方案二内部实现要复杂一些，但保存要简单一些。

## 组件的扩展性怎样保持

